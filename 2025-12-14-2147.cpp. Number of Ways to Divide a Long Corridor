/*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ—“ï¸ Daily Question: December 14, 2024
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ¯ Problem: 2147. Number of Ways to Divide a Long Corridor
ğŸ“Œ Link: https://leetcode.com/problems/number-of-ways-to-divide-a-long-corridor/
ğŸ·ï¸ Difficulty: Hard
ğŸ† Topics: Math, String, Dynamic Programming, Combinatorics

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“– Problem Summary
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Given a corridor string with 'S' (seats) and 'P' (plants):
- Divide the corridor into sections using dividers
- Each section must have EXACTLY 2 seats
- Count the number of valid ways to place dividers
- Return answer modulo 10^9 + 7

Constraints:
- If total seats = 0 or odd â†’ impossible â†’ return 0
- Dividers can only be placed between plants (P's)

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ Approach
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Strategy: Combinatorics + Counting Gaps

Key Insight:
- After every pair of seats (2nd, 4th, 6th seat...), we MUST place a divider
- The divider can be placed in any of the plant positions between pairs
- If there are k plants between two pairs â†’ (k + 1) ways to place divider
- Multiply all possibilities together

Algorithm:
1ï¸âƒ£ Count total seats â†’ if 0 or odd, return 0 (impossible)
2ï¸âƒ£ Track seat count as we iterate
3ï¸âƒ£ After completing a pair (seat count becomes even):
   â€¢ Count plants until next seat appears
   â€¢ These plants form a "gap" where divider can be placed
4ï¸âƒ£ For each gap with k plants â†’ multiply answer by (k + 1)
5ï¸âƒ£ Return result modulo 10^9 + 7

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ” Example Walkthrough
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Input:  corridor = "SSPPSPS"

Step 1: Count total seats
        S S P P S P S
        â†“ â†“     â†“   â†“
        4 seats total â†’ even âœ… (valid)

Step 2: Process character by character
        S S | P P | S P S
        â†‘ â†‘   â†‘ â†‘   â†‘   â†‘
        pair1 gap   pair2

Step 3: Find gaps between pairs
        After 1st pair (S S): next is P P
        â€¢ 2 plants before next seat
        â€¢ Ways to place divider = 2 + 1 = 3
        
        After 2nd pair (S): next is P S
        â€¢ 1 plant before next seat  
        â€¢ Ways = 1 + 1 = 2

Step 4: Multiply possibilities
        Total ways = 3 Ã— 2 = 6

Possible divisions:
1. SS | PPSPS
2. SS | P PSPS
3. SS | PP SPS
... (6 total ways)

Output: 3

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
âš¡ Complexity Analysis
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

â° Time Complexity:  O(n)
   â””â”€ Single pass through the corridor string
   â””â”€ Each character processed once
   
ğŸ’¾ Space Complexity: O(1)
   â””â”€ Only using constant extra variables
   â””â”€ No additional data structures needed

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
*/

class Solution {
public:
    int numberOfWays(string corridor) {
        int n = corridor.length();
        const int MOD = 1e9 + 7;
        
        // ğŸ“Š Step 1: Count total seats for validation
        int sCount = 0;  // Total seat count
        for(char c : corridor) {
            if(c == 'S') sCount++;
        }
        
        // âŒ Edge cases: impossible scenarios
        // No seats OR odd number of seats â†’ can't divide into pairs
        if(sCount == 0 || sCount % 2 != 0) return 0;
        
        // ğŸ¯ Step 2: Count ways to place dividers between pairs
        sCount = 0;        // Reset to track current seat count
        int pCount = 0;    // Count plants in current gap
        long long ans = 1; // Result (using multiplication principle)
        
        for(char c : corridor) {
            if(c == 'S') {
                sCount++;
                
                // ğŸ”‘ Key moment: Just completed a pair and starting new one
                // This happens when sCount > 2 and becomes odd (3rd, 5th, 7th seat...)
                if(sCount > 2 && sCount % 2 == 1) {
                    // Previous gap had 'pCount' plants
                    // Can place divider in (pCount + 1) positions
                    ans = (ans * (pCount + 1)) % MOD;
                    pCount = 0;  // Reset for next gap
                }
            }
            else {  // c == 'P'
                // ğŸŒ¿ Count plants ONLY when we have a complete pair
                // and waiting for next pair to start
                if(sCount >= 2 && sCount % 2 == 0) {
                    pCount++;
                }
            }
        }
        
        return ans;
    }
};

/*
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“ Key Insights
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ’¡ Core Idea: Multiplication principle of counting
   â€¢ Independent choices multiply together
   â€¢ Each gap provides independent placement options

ğŸ”‘ Critical Observation:
   â€¢ Dividers MUST go between pairs (after 2nd, 4th, 6th seat...)
   â€¢ Can't split a pair or have divider before first pair

âš ï¸ Edge Cases Handled:
   â€¢ Empty corridor or no seats â†’ 0
   â€¢ Odd number of seats â†’ impossible â†’ 0
   â€¢ Single pair â†’ 1 way (no dividers needed)

ğŸ¯ Why This Works:
   â€¢ After seat #2k, we have a complete k-th pair
   â€¢ Before seat #(2k+1), there's a gap of plants
   â€¢ Each plant position (plus one) is a valid divider spot
   â€¢ Choices are independent â†’ multiply them

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š State Transitions
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Seat Count State Machine:

sCount = 0 â†’ Looking for first pair
sCount = 1 â†’ Found 1st seat of pair
sCount = 2 â†’ Completed 1st pair âœ… Start counting plants
sCount = 3 â†’ Found 1st seat of 2nd pair â†’ Calculate ways, reset pCount
sCount = 4 â†’ Completed 2nd pair âœ… Start counting plants
...and so on

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸš€ Example Trace
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Input: "SSPPSPS"

Position: S    S    P    P    S    P    S
sCount:   1    2    2    2    3    4    5
pCount:   -    -    1    2    â†’    1    â†’
Action:   -    -    +    +   calc  +   calc
ans:      1    1    1    1    3    3    6

Final: 6 ways

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
*/
